{% extends "base.html" %}

{% block title %}Issue Book - Library Management System{% endblock %}

{% block content %}
<div class="page-header">
    <h1><i class="fas fa-book-reader"></i> Issue Book</h1>
</div>

<div class="form-container">
    <form method="POST" action="{{ url_for('issue_book') }}" class="data-form">
        <div class="form-group">
            <label for="book_id">Select Book *</label>
            <select id="book_id" name="book_id" required>
                <option value="">-- Select a Book --</option>
                {% for book in books %}
                <option value="{{ book.id }}">
                    {{ book.title }} by {{ book.author }} (Available: {{ book.available_copies }})
                </option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="member_id">Select Member *</label>
            <select id="member_id" name="member_id" required>
                <option value="">-- Select a Member --</option>
                {% for member in members %}
                <option value="{{ member.id }}">{{ member.name }} ({{ member.email }})</option>
                {% endfor %}
            </select>
        </div>

        <div class="form-group">
            <label for="days">Borrowing Period (days) *</label>
            <input type="number" id="days" name="days" min="1" max="90" value="14" required>
            <small>Default: 14 days. Maximum: 90 days.</small>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn btn-primary">
                <i class="fas fa-check"></i> Issue Book
            </button>
            <a href="{{ url_for('borrow_books') }}" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
{% endblock %}
